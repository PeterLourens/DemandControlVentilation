<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The front-end for configuration of the open source demand controlled ventilation system">
    <title>Open Source demand driven ventilation system &ndash; Configuration and Monitoring</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css" />
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>

    <div id="menu">
        <div class="pure-menu">
            <li class="pure-menu-heading">OSVentilation</li>

            <ul class="pure-menu-list">
                <li class="pure-menu-item"><a href="/" class="pure-menu-link">Status</a></li>
                <li class="pure-menu-item"><a href="/settings" class="pure-menu-link">Settings</a></li>
                <li class="pure-menu-item"><a href="/valvecontrol" class="pure-menu-link">Valve Control</a></li>
                <li class="pure-menu-item"><a href="/sensorconfig" class="pure-menu-link">Sensor Config</a></li>
            </ul>
        </div>
    </div>

    <div id="main">
        <div class="header">
            <h2>OSVentilationPy Status Page</h2>
            <h4>Opens Source demand controlled Ventilation system</h4>
        </div>

        <div class="content">
            <h2 class="content-subhead">Ventilation system settings</h2>
            <p>
                <form class="pure-form pure-form-stacked" method="POST" action="/networkconfig">
                    <fieldset>
                        <legend>Network configuration - %STATUS_NETWORK_CONFIG%</legend>
                        <div class="pure-g">
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="ssid">SSID:</label>
                                <input type="text" value="%SSID%" name="ssid" id="ssid" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="wifi_password">WIFI Password:</label>
                                <input type="text" value="%WIFI_PASSWORD%" name="wifi_password" id="wifi_password" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="ip_address">IP Address:</label>
                                <input type="text" placeholder="Leave blank for DHCP" value="%IP_ADDRESS%" name="ip_address" id="ip_address" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="subnet_mask">Subnet mask:</label>
                                <input type="text" placeholder="Leave blank for DHCP" value="%SUBNET_MASK%" name="subnet_mask" id="subnet_mask" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="gateway">Gateway:</label>
                                <input type="text" placeholder="Leave blank for DHCP" value="%GATEWAY%" name="gateway" id="wifi_password" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="primary_dns">Primary DNS server:</label>
                                <input type="text" placeholder="Leave blank for DHCP" value="%PRIMARY_DNS%" name="primary_dns" id="primary_dns" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="secondary_dns">Secundary DNS server (optional):</label>
                                <input type="text" placeholder="Leave blank for DHCP" value="%SECONDARY_DNS%" name="secondary_dns" id="secondary_dns" class="pure-input-3-4" />
                            </div>
                        </div>
                        <br>
                        <input type="submit" value="Save network configuration">
                        <br><br><br>
                        <legend>MQTT configuration - %STATUS_MQTT_CONFIG%</legend>
                        <div class="pure-g">
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="mqtt_server">MQTT Server:</label>
                                <input type="text" placeholder="MQTT Server ipdress or hostname" value="%MQTT_SERVER%" name="mqtt_server" id="mqtt_server" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="mqtt_port">MQTT Server port:</label>
                                <input type="text" placeholder="default is 1883" value="%MQTT_PORT%" name="mqtt_port" id="mqtt_port" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="mqtt_base_topic">MQTT Base topic:</label>
                                <input type="text" placeholder="default is 1883" value="%MQTT_BASE_TOPIC%" name="mqtt_base_topic" id="mqtt_base_topic" class="pure-input-3-4" />
                            </div>
                        </div>
                        <br>
                        <input type="submit" value="Save MQTT settings">
                        <br><br><br>
                        <legend>Hardware I2C configuration - %STATUS_I2C_HARDWARE_CONFIG%</legend>
                        <div class="pure-g">
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="bus0_multiplexer_address">Bus0 (Wire) I2C Multiplexer address:</label>
                                <input type="text" placeholder="default 0x70" value="%BUS0_MULTIPLEXER_ADDRESS%" name="bus0_multiplexer_address" id="bus0_multiplexer_address" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="bus1_multiplexer_address:">Bus1 (Wire1) I2C Multiplexer address:</label>
                                <input type="text" placeholder="default 0x70" value="%BUS1_MULTIPLEXER_ADDRESS%" name="bus1_multiplexer_address" id="bus1_multiplexer_address" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="display_i2c_adddress">Display I2C address:</label>
                                <input type="text" placeholder="default 0x27" value="%DISPLAY_I2C_ADDRESS%" name="display_i2c_adddress" id="display_i2c_adddress" class="pure-input-3-4" />
                            </div>
                        </div>
                        <br>
                        <input type="submit" value="Save I2C settings">
                        <br><br><br>
                        <legend>Fan control settings - By MQTT subscribe or http request - %STATUS_FAN_CONTROL_CONFIG%</legend>
                        <div class="pure-u-1 pure-u-md-1-2">
                            <label for="fan_control_mode">Fan control mode:</label>
                            <select id="fan_control_mode" name="fan_control_mode" id="fan_control_mode" class="pure-input-1-2">
                                <option selected>%FAN_CONTROL_MODE%</option>
                                <option>MQTT publish</option>
                                <option>HTTP API</option>
                            </select>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="fan_control_mqqt_topic">Fan control MQTT publish topic:</label>
                                <input type="text" placeholder="URL" value="%MQTT_TOPIC%" name="fan_control_mqtt_topic" id="fan_control_mqtt_topic" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="fan_control_url_high_speed">Fan control URL high speed:</label>
                                <input type="text" placeholder="URL" value="%FAN_CONTROL_URL_HIGH_SPEED%" name="fan_control_url_high_speed" id="fan_control_url_high_speed" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="fan_control_url_medium_speed">Fan control URL medium speed:</label>
                                <input type="text" placeholder="URL" value="%FAN_CONTROL_URL_MEDIUM_SPEED%" name="fan_control_url_medium_speed" id="fan_control_url_medium_speed" class="pure-input-3-4" />
                            </div>
                            <div class="pure-u-1 pure-u-md-1-2">
                                <label for="fan_control_url_low_speed">Fan control URL low speed:</label>
                                <input type="text" placeholder="URL" value="%FAN_CONTROL_URL_LOW_SPEED%" name="fan_control_url_low_speed" id="fan_control_url_low_speed" class="pure-input-3-4" />
                            </div>
                        </div>
                        <br>
                        <input type="submit" value="Save fan control settings">
                        <br><br><br>
                        <legend>State machine settings - Define which sensors are used in statemachine for RH and CO2 - %STATUS_STATEMACHINE_CONFIG%</legend>
                        <div class="pure-u-1 pure-u-md-1-2">
                            <label for="statemachine_rh_sensor">Statemachine humidity sensor:</label>
                            <select id="statemachine_rh_sensor" name="statemachine_rh_sensor" id="statemachine_rh_sensor" class="pure-input-1-2">
                                <option selected>%STATEMACHINE_RH_SENSOR%</option>
                                <option>Bus0 - Sensor0</option>
                                <option>Bus0 - Sensor1</option>
                                <option>Bus0 - Sensor2</option>
                                <option>Bus0 - Sensor3</option>
                                <option>Bus0 - Sensor4</option>
                                <option>Bus0 - Sensor5</option>
                                <option>Bus0 - Sensor6</option>
                                <option>Bus1 - Sensor0</option>
                                <option>Bus1 - Sensor1</option>
                                <option>Bus1 - Sensor2</option>
                                <option>Bus1 - Sensor3</option>
                                <option>Bus1 - Sensor4</option>
                                <option>Bus1 - Sensor5</option>
                                <option>Bus1 - Sensor6</option>
                            </select>
                            <label for="statemachine_co2_sensor">Statemachine CO2 sensor:</label>
                            <select id="statemachine_co2_sensor" name="statemachine_co2_sensor" id="statemachine_co2_sensor" class="pure-input-1-2">
                                <option selected>%STATEMACHINE_CO2_SENSOR%</option>
                                <option>Bus0 - Sensor0</option>
                                <option>Bus0 - Sensor1</option>
                                <option>Bus0 - Sensor2</option>
                                <option>Bus0 - Sensor3</option>
                                <option>Bus0 - Sensor4</option>
                                <option>Bus0 - Sensor5</option>
                                <option>Bus0 - Sensor6</option>
                                <option>Bus1 - Sensor0</option>
                                <option>Bus1 - Sensor1</option>
                                <option>Bus1 - Sensor2</option>
                                <option>Bus1 - Sensor3</option>
                                <option>Bus1 - Sensor4</option>
                                <option>Bus1 - Sensor5</option>
                                <option>Bus1 - Sensor6</option>
                            </select>
                        </div>
                    </fieldset>
                </form>
            </p>
        </div>
    </div>

    <script src="js/ui.js"></script>

  </body>
  </html>